{
  "swagger": "2.0",
  "host": "crt.ecodig.bci.cl",
  "info": {
    "description": "Swagger specification for Consent's APIs.",
    "version": "2",
    "title": "API Consents"
  },
  "basePath": "/v2/api-consents/",
  "schemes": [
    "https"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/configurations/products/parameters": {
      "post": {
        "tags": [
          "Product"
        ],
        "summary": "Get initial parameter to setup product consent",
        "operationId": "getProductParameters",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "ParametersReq",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ProductParametersReq"
            }
          },
          {
            "in": "header",
            "name": "x-apikey",
            "type": "string",
            "required": true,
            "description": "Value of the Api Key assigned to the application"
          },
          {
            "in": "header",
            "name": "Referer",
            "type": "string",
            "required": true,
            "description": "URL from where the request is made"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfull",
            "schema": {
              "$ref": "#/definitions/ProductParametersRsp"
            },
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payloa."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payloa."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payloa."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "403": {
            "description": "Unauthorized",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payloa."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "409": {
            "description": "Conflict",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payloa."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "429": {
            "description": "Too many request",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payloa."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "500": {
            "description": "Internal Server Error",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payloa."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          }
        }
      }
    },
    "/consents/{consentID}": {
      "get": {
        "tags": [
          "Consents"
        ],
        "summary": "Obtain detailed information about a consent made for a customer",
        "operationId": "getConsentById",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "consentID",
            "description": "Consent Identification ID",
            "required": true,
            "type": "string"
          },
          {
            "in": "header",
            "name": "x-apikey",
            "type": "string",
            "required": true,
            "description": "Value of the Api Key assigned to the application"
          },
          {
            "in": "header",
            "name": "Referer",
            "type": "string",
            "required": true,
            "description": "URL from where the request is made"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfull",
            "schema": {
              "$ref": "#/definitions/ConsentRsp"
            },
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payloa."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payloa."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payloa."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "403": {
            "description": "Unauthorized",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payloa."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "404": {
            "description": "Not Found",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payloa."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "409": {
            "description": "Conflict",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payloa."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "429": {
            "description": "Too many request",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payloa."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "500": {
            "description": "Internal Server Error",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payloa."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Consents"
        ],
        "summary": "Update a Permission Status associated to an Consent by Id",
        "description": "Update aStatus associated to an Consent by Id ",
        "operationId": "updateConsentStatus",
        "parameters": [
          {
            "name": "consentID",
            "in": "path",
            "description": "Consent Identification ID",
            "required": true,
            "type": "string"
          },
          {
            "name": "updateConsentRequest",
            "in": "body",
            "description": "Consent Identification and status",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ConsentStatusRequest"
            }
          },
          {
            "in": "header",
            "name": "x-apikey",
            "type": "string",
            "required": true,
            "description": "Value of the Api Key assigned to the application"
          },
          {
            "in": "header",
            "name": "Referer",
            "type": "string",
            "required": true,
            "description": "URL from where the request is made"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/ConsentRsp"
            },
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "403": {
            "description": "Forbidden",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "404": {
            "description": "Not Found",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "429": {
            "description": "Too Many Requests",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "500": {
            "description": "Internal Server Error",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          }
        },
        "x-version": "1",
        "x-scopes": [
          "consents.accessCount:update"
        ]
      }
    },
    "/consents/search": {
      "post": {
        "tags": [
          "Consents"
        ],
        "summary": "Get a Consent by Request ID & Cosumer ID",
        "description": "Obtain detailed information about a last consent created made for a customer",
        "operationId": "getConsentByConsumer",
        "parameters": [
          {
            "in": "body",
            "name": "ConsentRequest",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ConsentRequest"
            }
          },
          {
            "in": "header",
            "name": "x-apikey",
            "type": "string",
            "required": true,
            "description": "Value of the Api Key assigned to the application"
          },
          {
            "in": "header",
            "name": "Referer",
            "type": "string",
            "required": true,
            "description": "URL from where the request is made"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/ConsentRsp"
            },
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "403": {
            "description": "Forbidden",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "404": {
            "description": "Not Found",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "409": {
            "description": "Conflict",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payloa."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "429": {
            "description": "Too Many Requests",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "500": {
            "description": "Internal Server Error",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          }
        },
        "x-version": "1"
      }
    },
    "/consents/list": {
      "post": {
        "tags": [
          "Consents"
        ],
        "summary": "Get a Consent by Request ID & Cosumer ID",
        "description": "Obtain detailed information about a last consent created made for a customer",
        "operationId": "getConsents",
        "parameters": [
          {
            "in": "body",
            "name": "ConsentsRequest",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ConsentsRequest"
            }
          },
          {
            "in": "header",
            "name": "x-apikey",
            "type": "string",
            "required": true,
            "description": "Value of the Api Key assigned to the application"
          },
          {
            "in": "header",
            "name": "Referer",
            "type": "string",
            "required": true,
            "description": "URL from where the request is made"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/ConsentsRsp"
            },
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "403": {
            "description": "Forbidden",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "404": {
            "description": "Not Found",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "409": {
            "description": "Conflict",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payloa."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "429": {
            "description": "Too Many Requests",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          },
          "500": {
            "description": "Internal Server Error",
            "headers": {
              "x-jws-signature": {
                "type": "string",
                "description": "Header containing a detached JWS signature of the body of the payload."
              },
              "x-fapi-interaction-id": {
                "type": "string",
                "description": "An RFC4122 UID used as a correlation id."
              }
            },
            "schema": {
              "$ref": "#/definitions/ResponseCommonError"
            }
          }
        },
        "x-version": "1"
      }
    }
  },
  "definitions": {
    "ResponseCommonError": {
      "type": "object",
      "required": [
        "Error"
      ],
      "properties": {
        "Error": {
          "$ref": "#/definitions/Error"
        }
      }
    },
    "Error": {
      "type": "object",
      "required": [
        "Status",
        "Code"
      ],
      "properties": {
        "Status": {
          "type": "string",
          "description": "Represents the HTTP Status Code"
        },
        "Code": {
          "type": "string",
          "description": "Represents the HTTP Status Code description"
        },
        "Title": {
          "type": "string",
          "description": "Represents the HTTP Status Code obtained from the provider system, concatenated with its description"
        },
        "DeveloperMessage": {
          "type": "string",
          "description": "Represents any other error description complementary message"
        },
        "Sources": {
          "$ref": "#/definitions/Source"
        }
      }
    },
    "Source": {
      "type": "object",
      "properties": {
        "Paramet": {
          "type": "string",
          "description": "Identify the name of the parameter that produced the error, if the data were available"
        }
      }
    },
    "ConsentStatusRequest": {
      "type": "object",
      "required": [
        "ModificationDate",
        "Status"
      ],
      "properties": {
        "Status": {
          "type": "string",
          "description": "States that represent the stages of consent associated with the approval and rejection of the banks client for access to their information. Possible values are Authorized, Rejected, Revoked. The Authorized and Rejected status is intended to be states provided by the banks client upon approval or rejection of consent on a given permit. The Revoked state will be a state managed by the bank for particular situations where it is decided to disable a given consent.",
          "enum": [
            "Authorized",
            "Rejected",
            "Revoked",
            "Pending",
            "Expired"
          ]
        },
        "ModificationDate": {
          "type": "string",
          "format": "date-time",
          "description": "Character string in date time format ISO8601 representing the date and time of modification of consent."
        },
        "Scope": {
          "type": "string",
          "description": "Journey Name (Product)"
        },
        "ClientType": {
          "description": "Type of the client",
          "type": "string",
          "enum": [
            "Personal",
            "Business",
            "SME"
          ]
        },
        "CustomerId": {
          "type": "string",
          "description": "Unique and unrepeatable identifier for customer. RUT"
        },
        "CustomerCompanyId": {
          "type": "string",
          "description": "Unique and unrepeatable identifier for customer company. RUT"
        },
        "Reason": {
          "type": "string",
          "description": "Change Reason"
        },
        "ChangeAuthor": {
          "type": "string",
          "description": "Responsible for the change"
        }
      }
    },
    "ConsentRequest": {
      "type": "object",
      "required": [
        "RequestId",
        "ConsumerId"
      ],
      "properties": {
        "Scope": {
          "type": "string",
          "description": "Journey Name (Product)"
        },
        "ClientType": {
          "description": "Type of the client",
          "type": "string",
          "enum": [
            "Personal",
            "Business",
            "SME"
          ]
        },
        "CustomerId": {
          "type": "string",
          "description": "Unique and unrepeatable identifier for customer. RUT"
        },
        "CustomerCompanyId": {
          "type": "string",
          "description": "Unique and unrepeatable identifier for customer company. RUT"
        },
        "PartnerId": {
          "description": "Identifies de TTP App by de api key",
          "type": "string"
        },
        "PartnerName": {
          "description": "Partnert Name",
          "type": "string"
        }
      }
    },
    "ConsentRsp": {
      "type": "object",
      "properties": {
        "Data": {
          "$ref": "#/definitions/Consent"
        },
        "Links": {
          "$ref": "#/definitions/Links"
        },
        "Meta": {
          "$ref": "#/definitions/Meta"
        }
      },
      "required": [
        "Data",
        "Links",
        "Meta"
      ]
    },
    "ConsentsRsp": {
      "type": "object",
      "properties": {
        "Data": {
          "type": "object",
          "properties": {
            "Consents": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Consent"
              }
            }
          }
        },
        "Links": {
          "$ref": "#/definitions/Links"
        },
        "Meta": {
          "$ref": "#/definitions/Meta"
        }
      },
      "required": [
        "Data",
        "Links",
        "Meta"
      ]
    },
    "ConsentsRequest": {
      "type": "object",
      "required": [
        "RequestId",
        "ConsumerId"
      ],
      "properties": {
        "Scope": {
          "type": "string",
          "description": "Journey Name (Product)"
        },
        "ClientType": {
          "description": "Type of the client",
          "type": "string",
          "enum": [
            "Personal",
            "Business",
            "SME"
          ]
        },
        "CustomerId": {
          "type": "string",
          "description": "Unique and unrepeatable identifier for customer. RUT"
        },
        "CustomerCompanyId": {
          "type": "string",
          "description": "Unique and unrepeatable identifier for customer company. RUT"
        },
        "PartnerId": {
          "description": "Identifies de TTP App by de api key",
          "type": "string"
        },
        "PartnerName": {
          "description": "Partnert Name",
          "type": "string"
        },
        "Status": {
          "type": "string",
          "description": "States that represent the stages of consent associated with the approval and rejection of the banks client for access to their information. Possible values are Authorized, Rejected, Revoked. The Authorized and Rejected status is intended to be states provided by the banks client upon approval or rejection of consent on a given permit. The Revoked state will be a state managed by the bank for particular situations where it is decided to disable a given consent.",
          "enum": [
            "Authorized",
            "Rejected",
            "Revoked",
            "Pending",
            "Expired"
          ]
        }
      }
    },
    "ProductParametersReq": {
      "required": [
        "Scope",
        "ClientType",
        "CustomerId",
        "PartnerId",
        "PartnerName"
      ],
      "type": "object",
      "properties": {
        "Scope": {
          "type": "string",
          "description": "Journey Name (Product)"
        },
        "ClientType": {
          "description": "Type of the client",
          "type": "string",
          "enum": [
            "Personal",
            "Business",
            "SME"
          ]
        },
        "CustomerId": {
          "type": "string",
          "description": "Number identification of a person (RUT). Complete Format 99999999-K"
        },
        "CustomerCompanyId": {
          "type": "string",
          "description": "Number identification of a Company  (RUT)  Complete Format 99999999-K"
        },
        "PartnerId": {
          "type": "string",
          "description": "credentials delivered to the client"
        },
        "PartnerName": {
          "type": "string",
          "description": "Client name"
        },
        "TradeMark": {
          "type": "string",
          "enum": [
            "BCI",
            "MACH",
            "SSFF"
          ]
        },
        "informacionBrower": {
          "type": "string"
        },
        "PartnerConfigId": {
          "type": "string"
        }
      }
    },
    "ProductParametersRsp": {
      "type": "object",
      "properties": {
        "Data": {
          "$ref": "#/definitions/ParameterData"
        },
        "Links": {
          "$ref": "#/definitions/Links"
        },
        "Meta": {
          "$ref": "#/definitions/Meta"
        }
      },
      "required": [
        "Data",
        "Links",
        "Meta"
      ]
    },
    "ParameterData": {
      "type": "object",
      "properties": {
        "Scope": {
          "type": "string",
          "description": "Journey Name (Product)"
        },
        "ClientType": {
          "description": "Type of the client",
          "type": "string",
          "enum": [
            "Personal",
            "Business",
            "SME"
          ]
        },
        "OTPRequired": {
          "type": "boolean"
        },
        "DataConsent": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ConsentInfoItem"
          }
        },
        "Authorizations": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/AuthorizationsItemData"
          }
        },
        "SearchPeriod": {
          "$ref": "#/definitions/SearchPeriodData"
        },
        "Recurrence": {
          "$ref": "#/definitions/RecurrenceData"
        },
        "Validity": {
          "$ref": "#/definitions/Validity"
        },
        "FintechName": {
          "type": "string"
        },
        "TraceId": {
          "type": "string"
        },
        "Consent": {
          "$ref": "#/definitions/Consent"
        }
      }
    },
    "AuthorizationsItemData": {
      "type": "object",
      "properties": {
        "Order": {
          "type": "number"
        },
        "TextData": {
          "type": "string"
        },
        "LinkData": {
          "type": "string"
        }
      }
    },
    "Consent": {
      "type": "object",
      "properties": {
        "uuid": {
          "type": "string",
          "maxLength": 36,
          "description": "Standard identifier code"
        },
        "CustomerId": {
          "type": "string",
          "description": "Unique and unrepeatable identifier for customer. RUT"
        },
        "CustomerCompanyId": {
          "type": "string",
          "description": "Unique and unrepeatable identifier for customer company. RUT"
        },
        "PartnerId": {
          "description": "Identifies de TTP App by de api key",
          "type": "string"
        },
        "PartnerName": {
          "description": "Partnert Name",
          "type": "string"
        },
        "ClientType": {
          "description": "Type of the client",
          "type": "string",
          "enum": [
            "Personal",
            "Business",
            "SME"
          ]
        },
        "Audit": {
          "$ref": "#/definitions/AuditInfo"
        },
        "Scope": {
          "type": "string",
          "description": "Journey Name (Product)"
        },
        "FintechName": {
          "type": "string"
        },
        "Status": {
          "type": "string",
          "description": "States that represent the stages of consent associated with the approval and rejection of the banks client for access to their information. Possible values are Authorized, Rejected, Revoked. The Authorized and Rejected status is intended to be states provided by the banks client upon approval or rejection of consent on a given permit. The Revoked state will be a state managed by the bank for particular situations where it is decided to disable a given consent.",
          "enum": [
            "Authorized",
            "Rejected",
            "Revoked",
            "Pending",
            "Expired",
            "Cancelled"
          ]
        },
        "Channel": {
          "type": "string"
        },
        "SearchPeriod": {
          "$ref": "#/definitions/SearchPeriodData"
        },
        "Recurrence": {
          "$ref": "#/definitions/RecurrenceData"
        },
        "Validity": {
          "$ref": "#/definitions/Validity"
        },
        "Ran207Consent": {
          "type": "boolean"
        },
        "CredentialAsignement": {
          "type": "boolean"
        },
        "PartnerConfigId": {
          "type": "string"
        }
      }
    },
    "AuditInfo": {
      "type": "object",
      "properties": {
        "CreationDate": {
          "type": "string",
          "format": "date-time",
          "description": "Character string in date time format ISO8601 representing the date and time of creation of consent."
        },
        "ModificationDate": {
          "type": "string",
          "format": "date-time",
          "description": "Character string in date time format ISO8601 representing the date and time of modification of consent."
        },
        "ExpiryDate": {
          "type": "string",
          "format": "date-time",
          "description": "Character string in date time format ISO8601 representing the date and time of expiration of consent."
        },
        "BrowserInfo": {
          "type": "string",
          "description": "Character string with information collected"
        },
        "AuthorizationTime": {
          "type": "string",
          "format": "date-time",
          "description": "Character string in date time format ISO8601 representing the date and time at which the consent is approved by the client, for audit purposes."
        },
        "HistoricalModification": {
          "$ref": "#/definitions/HistoricalModificationData"
        }
      }
    },
    "HistoricalModificationData": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/HistoricalModificationDataItems"
      }
    },
    "HistoricalModificationDataItems": {
      "type": "object",
      "properties": {
        "Status": {
          "type": "string",
          "description": "States that represent the stages of consent associated with the approval and rejection of the banks client for access to their information. Possible values are Authorized, Rejected, Revoked. The Authorized and Rejected status is intended to be states provided by the banks client upon approval or rejection of consent on a given permit. The Revoked state will be a state managed by the bank for particular situations where it is decided to disable a given consent.",
          "enum": [
            "Authorized",
            "Rejected",
            "Revoked",
            "Pending",
            "Expired",
            "Cancelled"
          ]
        },
        "Date": {
          "type": "string",
          "format": "date-time",
          "description": "Character string in date time format ISO8601 representing the date and time of modification of consent."
        },
        "Reason": {
          "type": "string",
          "description": "Change Reason"
        },
        "ChangeAuthor": {
          "type": "string",
          "description": "Responsible for the change"
        }
      }
    },
    "SearchPeriodData": {
      "type": "object",
      "properties": {
        "Enabled": {
          "type": "boolean"
        },
        "Since": {
          "type": "string",
          "format": "date-time"
        },
        "Until": {
          "type": "string",
          "format": "date-time"
        },
        "NumberOfRecords": {
          "type": "number"
        },
        "Duration": {
          "type": "string"
        }
      }
    },
    "RecurrenceData": {
      "type": "object",
      "properties": {
        "Enabled": {
          "type": "boolean"
        },
        "Cycle": {
          "type": "string"
        },
        "Since": {
          "type": "string",
          "format": "date-time"
        },
        "Until": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "Validity": {
      "type": "object",
      "properties": {
        "Duration": {
          "type": "string"
        },
        "Since": {
          "type": "string",
          "format": "date-time"
        },
        "Until": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "ConsentInfoItem": {
      "type": "object",
      "properties": {
        "Title": {
          "type": "string"
        },
        "ScopeInfo": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ScopeInfoItem"
          }
        }
      }
    },
    "ScopeInfoItem": {
      "type": "object",
      "properties": {
        "Order": {
          "type": "number"
        },
        "DetailedData": {
          "type": "string"
        }
      }
    },
    "Links": {
      "type": "object",
      "description": "Links relevant to the payload",
      "properties": {
        "self": {
          "type": "string",
          "format": "uri"
        }
      },
      "additionalProperties": false,
      "required": [
        "self"
      ]
    },
    "Meta": {
      "title": "Meta Data",
      "type": "object",
      "description": "Meta Data relevant to the payload",
      "properties": {
        "total-pages": {
          "type": "integer",
          "format": "int32"
        }
      },
      "additionalProperties": false
    }
  }
}
